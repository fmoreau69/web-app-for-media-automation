{% extends 'base.html' %}
{% load static %}

{% block content %}
  <h1 class="page-header">
    WAMA
    <small>/ {% block title %}{% endblock %}</small>
  </h1>
  <hr>
  <div class="row">
    <div class="col-md-3">
      <div class="panel panel-default">
        <div class="panel-heading">
          <h3 class="panel-title">Menu</h3>
        </div>
        <div class="list-group">
          <a href="{% url 'transcriber:index' %}" class="list-group-item {% if request.path == '/transcriber/' %} active {% endif %}">
            <span class="fas fa-upload"></span> <span>Upload / </span> <span class="fas fa-spinner"></span> <span>Process</span>
          </a>
          <a href="{% url 'transcriber:about' %}" class="list-group-item {% if request.path == '/transcriber/about/' %} active {% endif %}">
            <span class="fas fa-circle-info"></span> <span>About</span>
          </a>
          <a href="{% url 'transcriber:help' %}" class="list-group-item {% if request.path == '/transcriber/help/' %} active {% endif %}">
            <span class="fas fa-circle-question"></span> <span>Help</span>
          </a>
        </div>
      </div>
      <div class="panel panel-default mt-3">
        <div class="panel-heading d-flex justify-content-between align-items-center">
          <h3 class="panel-title mb-0">Console</h3>
          <small class="text-muted" id="transcriber-console-hint">Live logs</small>
        </div>
        <div class="panel-body" style="max-height: 320px; overflow-y: auto; background: #111; color: #e4e4e4; font-family: 'Courier New', monospace; font-size: 12px;">
          <div id="transcriber-console-content"
               data-console-url="{% url 'transcriber:console' %}">
            <p class="text-muted mb-0">Chargement des logs...</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-9">
      {% block transcriber_content %}{% endblock %}
    </div>
  </div>
{% endblock %}

{% block javascript %}
  {{ block.super }}
  <script src="{% static 'transcriber/js/base.js' %}"></script>
{% endblock %}
