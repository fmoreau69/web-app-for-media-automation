{% extends 'base.html' %}
{% load static %}

{% block javascript %}
{# JQUERY FILE UPLOAD SCRIPTS - Optionnel, peut être surchargé #}
{% block extra_scripts %}
<script src="{% static 'js/jquery-file-upload/vendor/jquery.ui.widget.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/jquery.iframe-transport.js' %}"></script>
<script src="{% static 'js/jquery-file-upload/jquery.fileupload.js' %}"></script>
{% endblock %}

{# APP SPECIFIC SCRIPTS - Fourni par l'app qui hérite #}
{% block app_scripts %}
{# Les apps héritant de ce template doivent définir ce bloc #}
{% endblock %}

{# CONSOLE SCRIPT - Commun à toutes les apps #}
<script src="{% static 'common/js/console.js' %}"></script>
{% endblock %}

{% block content %}
<h1 class="page-header">
    WAMA
    <small>/ {% block title %}{% endblock %}</small>
</h1>
<hr>
<div class="row">
    <div class="col-md-3">
        {# MENU - Fourni par l'app qui hérite #}
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Menu</h3>
            </div>
            <div class="list-group">
                {% block app_menu %}
                {# Les apps héritant de ce template doivent définir ce bloc #}
                {% endblock %}
            </div>
        </div>

        {# CONSOLE - Commune à toutes les apps #}
        <div class="panel panel-default mt-3">
            <div class="panel-heading d-flex justify-content-between align-items-center">
                <h3 class="panel-title mb-0">Console</h3>
                <small class="text-muted" id="{% block console_hint_id %}console-hint{% endblock %}">Live logs</small>
            </div>
            <div class="panel-body" style="max-height: 320px; overflow-y: auto; background: #111; color: #e4e4e4; font-family: 'Courier New', monospace; font-size: 12px;">
                <div id="{% block console_content_id %}console-content{% endblock %}"
                     data-console-url="{% block console_url %}{% endblock %}">
                    <p class="text-muted mb-0">Chargement des logs...</p>
                </div>
            </div>
        </div>
    </div>

    {# CONTENU PRINCIPAL - Fourni par l'app qui hérite #}
    <div class="col-md-9">
        {% block app_content %}
        {# Les apps héritant de ce template doivent définir ce bloc #}
        {% endblock %}
    </div>
</div>
{% endblock %}
