{% load static %}
<!-- FileManager Sidebar - Always Visible -->
<aside id="filemanager-sidebar">
    <!-- Header -->
    <div class="filemanager-header">
        <h5><i class="fas fa-folder-open me-2"></i>Explorateur</h5>
    </div>

    <!-- Search -->
    <div class="filemanager-search">
        <input type="text" id="filemanager-tree-filter" name="filemanager-tree-filter" class="form-control form-control-sm" placeholder="Rechercher..." autocomplete="off" data-1p-ignore="true" data-lpignore="true" data-form-type="other">
    </div>

    <!-- Drop Zone for Upload -->
    <div id="filemanager-dropzone" class="filemanager-dropzone">
        <i class="fas fa-cloud-upload-alt"></i>
        <p>Glissez fichiers ou dossiers<br><small>Clic = fichiers | Shift+Clic = dossier</small></p>
    </div>

    <!-- File Tree -->
    <div class="filemanager-tree">
        <div id="filemanager-tree"></div>
    </div>
</aside>

<!-- FileManager Config Script -->
<script>
    window.FILEMANAGER_CONFIG = {
        csrfToken: '{{ csrf_token }}',
        apiTreeUrl: '{% url "filemanager:api_tree" %}',
        apiSearchUrl: '{% url "filemanager:api_search" %}',
        apiUploadUrl: '{% url "filemanager:api_upload" %}',
        apiDeleteUrl: '{% url "filemanager:api_delete" %}',
        apiDeleteAllUrl: '{% url "filemanager:api_delete_all" %}',
        apiRenameUrl: '{% url "filemanager:api_rename" %}',
        apiMoveUrl: '{% url "filemanager:api_move" %}',
        apiInfoUrl: '{% url "filemanager:api_info" %}',
        apiPreviewUrl: '{% url "filemanager:api_preview" %}',
        apiImportUrl: '{% url "filemanager:api_import" %}',
        apiDownloadUrl: '/filemanager/api/download/'
    };
</script>
